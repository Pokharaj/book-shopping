import{a as D,b as F,c as z,d as L,e as $}from"./chunk-OG6FB7UE.js";import"./chunk-CVQSUTNI.js";import{a as K}from"./chunk-GYHUSJRQ.js";import{g as V,h as Y,i as A,m as d,n as G,p as f}from"./chunk-KYOJ4JUR.js";import{$ as E,Aa as p,Ab as H,Ba as l,Bb as J,Da as T,F as a,J as g,La as R,M as S,Ma as B,N as O,Na as N,Pa as s,Q as h,Xa as j,Y as C,Ya as q,Z as n,_ as e,_a as u,fa as P,ga as b,ha as M,oa as w,p as _,sa as r,ta as v,u as y,ua as c,v as I}from"./chunk-IV62SXZ6.js";function W(i,o){if(i&1&&(n(0,"mat-list-item")(1,"div",12)(2,"div",13),r(3),e(),n(4,"div",14),r(5),e(),n(6,"div",15),r(7),p(8,"number"),e(),n(9,"div",16),r(10),p(11,"number"),e()()()),i&2){let t=o.$implicit;a(3),v(t.title),a(2),c("x",t.quantity),a(2),c("@ $",l(8,4,(t.price==null?null:t.price.amount)||0,"1.2-2")),a(3),c("= $",l(11,7,((t.price==null?null:t.price.amount)||0)*t.quantity,"1.2-2"))}}function X(i,o){if(i&1){let t=P();n(0,"div")(1,"mat-list"),h(2,W,12,10,"mat-list-item",5),e(),n(3,"div",6)(4,"div",7)(5,"span"),r(6,"Total Items:"),e(),n(7,"span")(8,"strong"),r(9),e()()(),n(10,"div",7)(11,"span"),r(12,"Total Price:"),e(),n(13,"span",8)(14,"strong"),r(15),p(16,"number"),e()()()(),n(17,"div",9)(18,"button",10),r(19,"Back to Cart"),e(),n(20,"button",11),b("click",function(){y(t);let x=M();return I(x.placeOrder())}),r(21,"Place Order"),e()()()}if(i&2){let t=M();a(2),C("ngForOf",t.cartItems),a(7),v(t.getTotalItems()),a(6),c("$",l(16,3,t.getTotalPrice(),"1.2-2"))}}function Z(i,o){i&1&&(n(0,"div",17),r(1,"Your cart is empty."),e())}var m=class i{constructor(o,t){this.cartService=o;this.router=t;this.cartItems=this.cartService.getCart()}cartItems=[];getTotalItems(){return this.cartItems.reduce((o,t)=>o+t.quantity,0)}getTotalPrice(){return this.cartItems.reduce((o,t)=>o+(t.price?.amount||0)*t.quantity,0)}placeOrder(){this.cartService.setCart([]),this.router.navigate(["/order-success"])}static \u0275fac=function(t){return new(t||i)(g(K),g(j))};static \u0275cmp=S({type:i,selectors:[["app-checkout"]],decls:10,vars:2,consts:[["emptyCart",""],[1,"checkout-container"],[1,"checkout-title"],["color","primary",2,"vertical-align","middle","margin-right","8px"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"checkout-summary"],[1,"summary-row"],[1,"summary-total-price"],[1,"checkout-actions"],["mat-stroked-button","","color","accent","routerLink","/cart"],["mat-raised-button","","color","primary",3,"click"],[1,"checkout-item-row"],[1,"checkout-item-title"],[1,"checkout-item-qty"],[1,"checkout-item-price"],[1,"checkout-item-total"],[1,"empty-cart-msg"]],template:function(t,k){if(t&1&&(n(0,"mat-card",1)(1,"mat-card-title",2)(2,"mat-icon",3),r(3,"shopping_cart_checkout"),e(),r(4," Checkout "),e(),E(5,"mat-divider"),n(6,"mat-card-content"),h(7,X,22,6,"div",4)(8,Z,2,0,"ng-template",null,0,T),e()()),t&2){let x=w(9);a(7),C("ngIf",k.cartItems.length>0)("ngIfElse",x)}},dependencies:[d,V,A,Y,f,G,u,q,$,z,L,D,F,J,H,s,R,B,N],styles:[".checkout-container[_ngcontent-%COMP%]{max-width:800px;margin:40px auto;box-shadow:0 2px 12px #00000014;border-radius:10px}.checkout-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.5em;font-weight:700;letter-spacing:.5px;margin:18px 0 10px;padding:0 0 4px 18px}.checkout-item-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:18px;width:100%;padding:8px 0}.checkout-item-title[_ngcontent-%COMP%]{flex:2;font-weight:500;font-size:1.08em}.checkout-item-qty[_ngcontent-%COMP%], .checkout-item-price[_ngcontent-%COMP%], .checkout-item-total[_ngcontent-%COMP%]{flex:1;text-align:center;font-size:1em}.checkout-summary[_ngcontent-%COMP%]{margin:16px 16px 0 0;padding:16px 16px 0 0;border-top:1px solid #eee;display:flex;flex-direction:column;gap:8px}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:1.12em}.summary-total-price[_ngcontent-%COMP%]{color:#1976d2;font-weight:600}.checkout-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:18px;gap:16px}.empty-cart-msg[_ngcontent-%COMP%]{text-align:center;color:#888;font-size:1.1em;margin:32px 0 24px}"]})};var tt=[{path:"",component:m},{path:"order-success",loadComponent:()=>import("./chunk-FK66Q3J3.js").then(i=>i.OrderSuccess)}],Q=class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=O({type:i});static \u0275inj=_({imports:[s,u.forChild(tt),d,f,m]})};export{Q as CheckoutModule};
