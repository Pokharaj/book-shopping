import{d as Q,e as H}from"./chunk-WYWT2BQY.js";import{a as T,c as N,d as j,e as h}from"./chunk-OG6FB7UE.js";import"./chunk-CVQSUTNI.js";import{a as U}from"./chunk-GYHUSJRQ.js";import{g as F,h as z,m as D,n as L,o as R,p as M}from"./chunk-KYOJ4JUR.js";import{$ as v,Ab as V,Bb as $,Da as E,F as c,J as I,La as P,M as b,Ma as B,N as k,Pa as C,Q as g,Y as l,Ya as q,Z as n,_ as a,_a as y,fa as w,ga as u,ha as s,oa as O,p as S,sa as o,ta as x,u as f,v as _}from"./chunk-IV62SXZ6.js";function G(i,e){i&1&&v(0,"mat-divider")}function J(i,e){if(i&1){let t=w();n(0,"mat-list-item")(1,"div",8)(2,"mat-icon",9),o(3,"menu_book"),a(),n(4,"div",10),o(5),a(),n(6,"div",11)(7,"button",12),u("click",function(){let m=f(t).$implicit,p=s(2);return _(p.decrementQuantity(m))}),n(8,"mat-icon"),o(9,"remove"),a()(),n(10,"span",13),o(11),a(),n(12,"button",14),u("click",function(){let m=f(t).$implicit,p=s(2);return _(p.incrementQuantity(m))}),n(13,"mat-icon"),o(14,"add"),a()()(),n(15,"button",15),u("click",function(){let m=f(t).$implicit,p=s(2);return _(p.removeFromCart(m))}),o(16,"Remove"),a()(),g(17,G,1,0,"mat-divider",16),a()}if(i&2){let t=e.$implicit,r=e.last;c(5),x(t.title),c(6),x(t.quantity),c(6),l("ngIf",!r)}}function K(i,e){if(i&1&&(n(0,"mat-list"),g(1,J,18,3,"mat-list-item",7),a()),i&2){let t=s();c(),l("ngForOf",t.cartItems)}}function W(i,e){i&1&&(n(0,"div",17),o(1,"Your cart is empty."),a(),n(2,"div",18)(3,"button",19),o(4,"Home"),a()())}function X(i,e){if(i&1&&(n(0,"div",20)(1,"mat-icon",21),o(2,"shopping_cart"),a(),n(3,"span"),o(4,"Total Items: "),n(5,"strong"),o(6),a()()()),i&2){let t=s();c(6),x(t.getTotalItems())}}function Z(i,e){i&1&&(n(0,"div",22)(1,"button",19),o(2,"Home"),a(),n(3,"button",23),o(4,"Proceed to Checkout"),a()())}var d=class i{constructor(e,t){this.snackBar=e;this.cartService=t}cartItems=[];ngOnInit(){this.cartItems=this.cartService.getCart()}getCart(){return this.cartService.getCart()}setCart(e){this.cartService.setCart(e),this.cartItems=this.getCart()}removeFromCart(e){let t=this.getCart();this.cartItems=t.filter(r=>r.ISBN!==e.ISBN),this.setCart(this.cartItems),this.snackBar.open(`${e.title} removed from cart!`,"Close",{duration:2e3})}incrementQuantity(e){let t=this.getCart(),r=t.findIndex(m=>m.ISBN===e.ISBN);r>-1&&(t[r].quantity+=1,this.setCart(t),this.snackBar.open(`Increased quantity of ${e.title}`,"Close",{duration:1500}))}decrementQuantity(e){let t=this.getCart(),r=t.findIndex(m=>m.ISBN===e.ISBN);r>-1&&(t[r].quantity>1?(t[r].quantity-=1,this.setCart(t),this.snackBar.open(`Decreased quantity of ${e.title}`,"Close",{duration:1500})):this.removeFromCart(e))}getTotalItems(){return this.cartItems.reduce((e,t)=>e+t.quantity,0)}static \u0275fac=function(t){return new(t||i)(I(Q),I(U))};static \u0275cmp=b({type:i,selectors:[["app-cart"]],decls:11,vars:4,consts:[["emptyCart",""],[1,"cart-container"],[1,"cart-title"],["color","primary",2,"vertical-align","middle","margin-right","8px"],[4,"ngIf","ngIfElse"],["class","cart-summary",4,"ngIf"],["class","cart-actions",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"cart-item-content"],["color","primary",1,"cart-book-icon"],[1,"cart-item-title"],[1,"cart-item-qty"],["mat-mini-fab","","color","warn","aria-label","Decrease quantity",3,"click"],[1,"cart-qty-number"],["mat-mini-fab","","color","warn","aria-label","Increase quantity",3,"click"],["mat-stroked-button","","color","warn",3,"click"],[4,"ngIf"],[1,"empty-cart-msg"],[1,"cart-empty-actions"],["mat-stroked-button","","color","accent","routerLink","/"],[1,"cart-summary"],["color","accent"],[1,"cart-actions"],["mat-raised-button","","color","primary","routerLink","/checkout"]],template:function(t,r){if(t&1&&(n(0,"mat-card",1)(1,"mat-card-title",2)(2,"mat-icon",3),o(3,"shopping_cart"),a(),o(4," Shopping Cart "),a(),v(5,"mat-divider"),g(6,K,2,1,"mat-list",4)(7,W,5,0,"ng-template",null,0,E)(9,X,7,1,"div",5)(10,Z,5,0,"div",6),a()),t&2){let m=O(8);c(6),l("ngIf",r.cartItems.length>0)("ngIfElse",m),c(3),l("ngIf",r.cartItems.length>0),c(),l("ngIf",r.cartItems.length>0)}},dependencies:[h,N,j,T,D,F,z,M,L,R,y,q,C,P,B,H,$,V],styles:[".cart-item-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;gap:16px;padding:8px 0}.cart-item-title[_ngcontent-%COMP%]{flex:2;font-weight:500;font-size:1.08em}.cart-item-qty[_ngcontent-%COMP%]{flex:1;text-align:center;font-size:1em;display:flex;align-items:center;justify-content:center;gap:8px}.cart-qty-number[_ngcontent-%COMP%]{min-width:28px;display:inline-block;text-align:center;font-size:1.1em;font-weight:500}.empty-cart-msg[_ngcontent-%COMP%]{text-align:center;color:#888;font-size:1.1em;margin:32px 0 24px}.cart-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:18px;margin-right:18px;gap:16px}.cart-container[_ngcontent-%COMP%]{max-width:800px;margin:32px auto;padding:0 0 18px;box-shadow:0 2px 12px #00000014}.cart-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;font-size:1.5em;font-weight:600;letter-spacing:.5px;margin:18px 0 10px;padding:0 0 4px 18px}.cart-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:2rem;margin-right:8px;vertical-align:middle;line-height:1}.cart-summary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:1.08em;color:#333;margin:18px 0 0;padding-left:8px}.cart-book-icon[_ngcontent-%COMP%]{margin-right:8px;font-size:28px}.cart-item-qty[_ngcontent-%COMP%]   button.mat-mini-fab[_ngcontent-%COMP%]{width:30px;height:30px;min-width:30px;min-height:30px;font-size:1.1em}.cart-item-qty[_ngcontent-%COMP%]   .mat-mdc-mini-fab[_ngcontent-%COMP%]{width:30px;height:30px;min-width:30px;min-height:30px}.cart-empty-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:16px}"]})};var tt=[{path:"",component:d}],Y=class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=k({type:i});static \u0275inj=S({imports:[C,y.forChild(tt),h,M,d]})};export{Y as CartModule};
