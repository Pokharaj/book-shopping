import{f as n,o,r as c,y as a}from"./chunk-IV62SXZ6.js";var i=class r{constructor(t){this.document=t;this.updateCartCount()}cartCountSubject=new n(0);cartCount$=this.cartCountSubject.asObservable();getCart(){let t=this.document.cookie.match(new RegExp("(^| )cart=([^;]+)"));if(t)try{return JSON.parse(decodeURIComponent(t[2]))}catch{return[]}return[]}setCart(t){let e=new Date(Date.now()+6048e5).toUTCString();this.document.cookie=`cart=${encodeURIComponent(JSON.stringify(t))}; expires=${e}; path=/`,this.updateCartCount()}updateCartCount(){let e=this.getCart().reduce((u,s)=>u+(s.quantity||0),0);this.cartCountSubject.next(e)}static \u0275fac=function(e){return new(e||r)(c(a))};static \u0275prov=o({token:r,factory:r.\u0275fac,providedIn:"root"})};export{i as a};
