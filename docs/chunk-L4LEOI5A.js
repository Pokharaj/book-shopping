import{d as Z,e as tt}from"./chunk-WYWT2BQY.js";import{e as M}from"./chunk-OG6FB7UE.js";import"./chunk-CVQSUTNI.js";import{a as et}from"./chunk-2RIK4MYP.js";import{g as D,h as H,i as Q,j as A,k as Y,l as G,m as O,n as J,o as K,p as U}from"./chunk-KYOJ4JUR.js";import{Aa as q,Ab as W,Bb as X,Ca as L,Da as N,F as d,J as C,La as T,M as B,Ma as j,N as S,Oa as V,Pa as u,Q as f,Ra as $,Sa as F,Y as g,Ya as R,Z as i,_ as o,_a as k,da as P,ea as y,fa as b,ga as x,ha as p,oa as I,p as v,sa as c,ta as w,u as m,ua as _,v as s,ya as E,za as z}from"./chunk-IV62SXZ6.js";var ot=()=>[1,2,3,4,5],at=r=>["/book",r];function rt(r,n){if(r&1&&(P(0),i(1,"mat-icon",25),c(2),o(),y()),r&2){let t=n.$implicit,e=p().$implicit;d(2),_(" ",e.ratings.average_rating>=t?"star":e.ratings.average_rating>=t-.5?"star_half":"star_border"," ")}}function ct(r,n){if(r&1){let t=b();i(0,"button",31),x("click",function(){m(t);let a=p(2).$implicit,l=p();return s(l.removeBook(a))}),i(1,"mat-icon"),c(2,"delete"),o()()}}function pt(r,n){if(r&1){let t=b();P(0),i(1,"div",26)(2,"button",27),x("click",function(){m(t);let a=p().$implicit,l=p();return s(l.decrementBook(a))}),i(3,"mat-icon"),c(4,"remove"),o()(),i(5,"span",28),c(6),o(),i(7,"button",29),x("click",function(){m(t);let a=p().$implicit,l=p();return s(l.incrementBook(a))}),i(8,"mat-icon"),c(9,"add"),o()(),f(10,ct,3,0,"button",30),o(),y()}if(r&2){let t=p().$implicit,e=p();d(6),w(e.getBookQuantity(t)),d(4),g("ngIf",e.getBookQuantity(t)>0)}}function dt(r,n){if(r&1){let t=b();i(0,"button",32),x("click",function(){m(t);let a=p().$implicit,l=p();return s(l.addToCart(a))}),i(1,"mat-icon"),c(2,"add_shopping_cart"),o(),i(3,"span",23),c(4,"Add to Cart"),o()()}}function lt(r,n){if(r&1){let t=b();i(0,"mat-card",3)(1,"div",4)(2,"mat-card-title",5),c(3),o(),i(4,"mat-card-subtitle",6),c(5),o()(),i(6,"div",7)(7,"img",8),x("error",function(a){m(t);let l=p();return s(l.onImageError(a))}),o(),i(8,"div",9)(9,"mat-icon",10),c(10,"book"),o(),i(11,"span",11),c(12,"Book Cover"),o()()(),i(13,"div",12),f(14,rt,3,1,"ng-container",13),i(15,"span",14),c(16),o()(),i(17,"mat-card-content",15)(18,"div",16)(19,"span",17),c(20,"Price:"),o(),i(21,"strong",18),c(22),o()(),i(23,"div",19)(24,"span",20),c(25,"Description:"),o(),c(26),q(27,"slice"),o()(),i(28,"mat-card-actions",21)(29,"button",22)(30,"mat-icon"),c(31,"visibility"),o(),i(32,"span",23),c(33,"Details"),o()(),f(34,pt,11,2,"ng-container",24)(35,dt,5,0,"ng-template",null,0,N),o()()}if(r&2){let t=n.$implicit,e=I(36),a=p();d(3),w(t.title),d(2),_("Author: ",t.author),d(9),g("ngForOf",E(13,ot)),d(2),_("(",t.ratings.average_rating,"/5)"),d(6),_("$",t.price.amount),d(4),_(" ",t.description.length>100?L(27,9,t.description,0,100)+"...":t.description," "),d(3),g("routerLink",z(14,at,t.ISBN)),d(5),g("ngIf",a.getBookQuantity(t)>0)("ngIfElse",e)}}var h=class r{constructor(n,t,e){this.http=n;this.snackBar=t;this.cartService=e}books=[];ngOnInit(){this.http.get("book_data.json").subscribe(n=>{this.books=n})}onImageError(n){let t=n.target,e=t.nextElementSibling;t&&e&&(t.style.display="none",e.style.display="flex"),console.warn("Image failed to load:",t.src)}getCart(){return this.cartService.getCart()}setCart(n){this.cartService.setCart(n)}addToCart(n){let t=this.getCart(),e=t.findIndex(a=>a.ISBN===n.ISBN);e>-1?t[e].quantity+=1:t.push({ISBN:n.ISBN,title:n.title,quantity:1,price:n.price}),this.setCart(t),this.snackBar.open(`${n.title} added to cart!`,"Close",{duration:2e3})}getBookQuantity(n){let e=this.getCart().find(a=>a.ISBN===n.ISBN);return e?e.quantity:0}incrementBook(n){let t=this.getCart(),e=t.findIndex(a=>a.ISBN===n.ISBN);e>-1&&(t[e].quantity+=1,this.setCart(t),this.snackBar.open(`Increased quantity of ${n.title}`,"Close",{duration:1500}))}decrementBook(n){let t=this.getCart(),e=t.findIndex(a=>a.ISBN===n.ISBN);e>-1&&(t[e].quantity>1?(t[e].quantity-=1,this.setCart(t),this.snackBar.open(`Decreased quantity of ${n.title}`,"Close",{duration:1500})):(t.splice(e,1),this.setCart(t),this.snackBar.open(`${n.title} removed from cart!`,"Close",{duration:1500})))}removeBook(n){let t=this.getCart(),e=t.findIndex(a=>a.ISBN===n.ISBN);e>-1&&(t.splice(e,1),this.setCart(t),this.snackBar.open(`${n.title} removed from cart!`,"Close",{duration:1500}))}static \u0275fac=function(t){return new(t||r)(C($),C(Z),C(et))};static \u0275cmp=B({type:r,selectors:[["app-book-list"]],decls:2,vars:1,consts:[["addToCartBtn",""],[1,"book-list-container"],["class","book-card",4,"ngFor","ngForOf"],[1,"book-card"],[1,"book-card-header"],[1,"book-title"],[1,"book-author"],[1,"book-image-container"],["mat-card-image","","src","generic-book-cover.jpg","alt","Book Cover","onerror","this.style.display='none'; this.nextElementSibling.style.display='flex';",1,"book-image",3,"error"],[1,"book-image-placeholder",2,"display","none"],[1,"placeholder-icon"],[1,"placeholder-text"],[1,"rating-display"],[4,"ngFor","ngForOf"],[1,"rating-number"],[1,"book-content"],[1,"price-display"],[1,"price-label"],[1,"price-amount"],[1,"book-description"],[1,"description-label"],[1,"book-actions"],["mat-raised-button","","color","accent",1,"details-btn",3,"routerLink"],[1,"btn-text"],[4,"ngIf","ngIfElse"],["color","warn",1,"star-icon"],[1,"quantity-controls"],["mat-mini-fab","","color","warn","aria-label","Decrease quantity",1,"qty-btn",3,"click"],[1,"cart-qty-number"],["mat-mini-fab","","color","warn","aria-label","Increase quantity",1,"qty-btn",3,"click"],["mat-mini-fab","","color","warn","aria-label","Remove from cart","class","qty-btn",3,"click",4,"ngIf"],["mat-mini-fab","","color","warn","aria-label","Remove from cart",1,"qty-btn",3,"click"],["mat-raised-button","","color","primary",1,"add-to-cart-btn",3,"click"]],template:function(t,e){t&1&&(i(0,"div",1),f(1,lt,37,16,"mat-card",2),o()),t&2&&(d(),g("ngForOf",e.books))},dependencies:[M,O,D,Y,Q,G,A,H,U,J,K,X,W,k,R,u,T,j,F,tt,V],styles:[".book-list-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px;padding:20px 0}.cart-navigation[_ngcontent-%COMP%]{grid-column:1/-1;display:flex;justify-content:center;margin-bottom:20px;padding:0 20px}.goto-cart-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 24px;font-weight:600;font-size:1rem;border-radius:8px;transition:all .2s ease;box-shadow:0 2px 8px #0000001a}.goto-cart-btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #00000026}.cart-count[_ngcontent-%COMP%]{background:#ffffffe6;color:#333;padding:2px 6px;border-radius:12px;font-size:.8rem;font-weight:700;min-width:20px;text-align:center}.book-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;min-height:400px;transition:transform .2s ease,box-shadow .2s ease;border-radius:12px;overflow:hidden}.book-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #00000026}.book-card-header[_ngcontent-%COMP%]{padding:16px 16px 8px}.book-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-bottom:4px;line-height:1.3;color:#333}.book-author[_ngcontent-%COMP%]{color:#666;font-size:.9rem;margin-bottom:0}.book-image-container[_ngcontent-%COMP%]{padding:0 16px;margin-bottom:12px;position:relative}.book-image[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:contain;border-radius:8px;box-shadow:0 2px 8px #0000001a}.book-image-placeholder[_ngcontent-%COMP%]{width:100%;height:200px;display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:8px;border:2px dashed #dee2e6;color:#6c757d}.placeholder-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:8px;opacity:.6}.placeholder-text[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;text-align:center}.rating-display[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:4px;margin:8px 0;padding:0 16px}.star-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.rating-number[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin-left:8px}.book-content[_ngcontent-%COMP%]{flex:1;padding:0 16px 16px}.price-display[_ngcontent-%COMP%]{margin-bottom:12px}.price-label[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.price-amount[_ngcontent-%COMP%]{color:#2e7d32;font-size:1.1rem;margin-left:4px}.book-description[_ngcontent-%COMP%]{color:#555;font-size:.9rem;line-height:1.5}.description-label[_ngcontent-%COMP%]{font-weight:500;color:#333}.book-actions[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;gap:12px;margin-top:auto}.details-btn[_ngcontent-%COMP%], .add-to-cart-btn[_ngcontent-%COMP%]{width:100%;height:44px;display:flex;align-items:center;justify-content:center;gap:8px;font-weight:500}.btn-text[_ngcontent-%COMP%]{font-size:.9rem}.quantity-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;flex-wrap:wrap}.qty-btn[_ngcontent-%COMP%]{width:36px;height:36px;min-width:36px;min-height:36px}.cart-qty-number[_ngcontent-%COMP%]{min-width:32px;text-align:center;font-size:1rem;font-weight:600;color:#333;background:#f5f5f5;padding:4px 8px;border-radius:4px}@media (max-width: 1024px){.cart-navigation[_ngcontent-%COMP%]{margin-bottom:16px;padding:0 16px}.goto-cart-btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:.95rem}.book-list-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:16px;padding:16px 0}.book-card[_ngcontent-%COMP%]{min-height:380px}.book-image[_ngcontent-%COMP%], .book-image-placeholder[_ngcontent-%COMP%]{height:180px}.placeholder-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px}}@media (max-width: 768px){.cart-navigation[_ngcontent-%COMP%]{margin-bottom:12px;padding:0 12px}.goto-cart-btn[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}.cart-count[_ngcontent-%COMP%]{font-size:.75rem;padding:1px 5px}.book-list-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:12px;padding:12px 0}.book-card[_ngcontent-%COMP%]{min-height:360px}.book-card-header[_ngcontent-%COMP%]{padding:12px 12px 6px}.book-title[_ngcontent-%COMP%]{font-size:1.1rem}.book-image-container[_ngcontent-%COMP%]{padding:0 12px;margin-bottom:10px}.book-image[_ngcontent-%COMP%], .book-image-placeholder[_ngcontent-%COMP%]{height:160px}.placeholder-icon[_ngcontent-%COMP%]{font-size:36px;width:36px;height:36px}.placeholder-text[_ngcontent-%COMP%]{font-size:.85rem}.rating-display[_ngcontent-%COMP%]{padding:0 12px}.star-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.book-content[_ngcontent-%COMP%]{padding:0 12px 12px}.book-actions[_ngcontent-%COMP%]{padding:12px;gap:10px}.details-btn[_ngcontent-%COMP%], .add-to-cart-btn[_ngcontent-%COMP%]{height:40px}.qty-btn[_ngcontent-%COMP%]{width:32px;height:32px;min-width:32px;min-height:32px}}@media (max-width: 480px){.cart-navigation[_ngcontent-%COMP%]{margin-bottom:16px;padding:0 16px}.goto-cart-btn[_ngcontent-%COMP%]{padding:12px 20px;font-size:.95rem;width:100%;justify-content:center}.cart-count[_ngcontent-%COMP%]{font-size:.8rem;padding:2px 6px}.book-list-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px;padding:16px 0}.book-card[_ngcontent-%COMP%]{min-height:auto}.book-card-header[_ngcontent-%COMP%]{padding:16px 16px 8px}.book-title[_ngcontent-%COMP%]{font-size:1.2rem}.book-image-container[_ngcontent-%COMP%]{padding:0 16px;margin-bottom:12px}.book-image[_ngcontent-%COMP%], .book-image-placeholder[_ngcontent-%COMP%]{height:200px}.placeholder-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px}.placeholder-text[_ngcontent-%COMP%]{font-size:.9rem}.rating-display[_ngcontent-%COMP%]{padding:0 16px}.star-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.book-content[_ngcontent-%COMP%]{padding:0 16px 16px}.book-actions[_ngcontent-%COMP%]{padding:16px;gap:12px}.details-btn[_ngcontent-%COMP%], .add-to-cart-btn[_ngcontent-%COMP%]{height:44px}.qty-btn[_ngcontent-%COMP%]{width:36px;height:36px;min-width:36px;min-height:36px}.quantity-controls[_ngcontent-%COMP%]{gap:12px}}@media (min-width: 768px) and (max-width: 1024px) and (orientation: landscape){.book-list-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(220px,1fr))}.book-card[_ngcontent-%COMP%]{min-height:340px}.book-image[_ngcontent-%COMP%], .book-image-placeholder[_ngcontent-%COMP%]{height:140px}.placeholder-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px}}@media (-webkit-min-device-pixel-ratio: 2),(min-resolution: 192dpi){.book-image[_ngcontent-%COMP%]{image-rendering:-webkit-optimize-contrast;image-rendering:crisp-edges}}@media (prefers-color-scheme: dark){.book-card[_ngcontent-%COMP%]{background-color:#424242;color:#fff}.book-title[_ngcontent-%COMP%]{color:#fff}.book-author[_ngcontent-%COMP%], .book-description[_ngcontent-%COMP%]{color:#ccc}.description-label[_ngcontent-%COMP%]{color:#fff}.cart-qty-number[_ngcontent-%COMP%]{background:#555;color:#fff}.book-image-placeholder[_ngcontent-%COMP%]{background:linear-gradient(135deg,#555,#424242);border-color:#666;color:#ccc}}"]})};var mt=[{path:"",component:h}],nt=class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=S({type:r});static \u0275inj=v({imports:[u,k.forChild(mt),M,O,h]})};export{nt as BookListModule};
